# Keep Talking and Nobody Explodes - Мануал-помощник

Консольная программа-помощник для обезвреживания бомб из игры Keep Talking and Nobody Explodes. Программа интерактивно помогает решать модули, автоматически выдавая правильные действия на основе введенных данных.

## Установка

### Требования
- Python 3.6 или выше
- Никаких дополнительных библиотек не требуется

### Структура файлов

```
ktane_manual/
├── main.py
└── modules/
    ├── __init__.py
    ├── wires.py
    ├── button.py
    ├── keypads.py
    ├── simon_says.py
    ├── whos_on_first.py
    ├── maze.py(temporarily disabled)
    ├── memory.py
    ├── morse_code.py
    ├── complicated_wires.py
    ├── wire_sequence.py
    ├── passwords.py
    └── knobs.py
```

### Шаги установки

1. Создайте папку `ktane_manual`
2. Создайте внутри папку `modules`
3. В папке `modules` создайте пустой файл `__init__.py`
4. Скопируйте все файлы модулей в папку `modules`
5. Скопируйте файл `main.py` в корневую папку `ktane_manual`

### Запуск

Откройте командную строку/терминал в папке `ktane_manual` и выполните:

```bash
python main.py
```

## Описание модулей

### 1. Провода

**Как работает:**
- Выбираете количество проводов (3-6)
- Вводите цвет каждого провода сверху вниз
- Программа автоматически определяет, какой провод резать

**Пример использования:**
```
Сколько проводов (3-6)? 4
Провод 1: красный
Провод 2: синий
Провод 3: желтый
Провод 4: белый

→ РЕЖЬТЕ ПРОВОД № 2
```

**Доступные цвета:** красный, синий, желтый, белый, черный

**Особенности:**
- Некоторые правила требуют серийный номер бомбы
- Программа сама спросит нужную информацию

---

### 2. Кнопка

**Как работает:**
- Вводите цвет кнопки и надпись
- При необходимости вводите количество батареек и индикаторы
- Программа определяет: нажать сразу или удерживать
- Если удерживать - показывает таблицу для всех цветов полоски

**Пример использования:**
```
Цвет кнопки: синий
Надпись на кнопке: прервать

→ УДЕРЖИТЕ КНОПКУ

ПРИ УДЕРЖАНИИ КНОПКИ:
Синий  - 4
Белый  - 1
Желтый - 5
Другое - 1
```

**Доступные цвета:** синий, белый, желтый, красный  
**Доступные надписи:** прервать, взорвать, держать

**Особенности:**
- Показывает сразу все варианты для удержания
- Не нужно вводить цвет полоски - просто смотрите в таблицу

---

### 3. Клавиатуры

**Как работает:**
- Вводите названия 4 символов с клавиатуры
- Программа ищет нужный столбец и выдает правильный порядок нажатия

**Названия символов (из мануала):**
```
дрон, зеркало, обратка, хвостик, нзвезда, гроб, вопрос,
копирайт, запятая, птицы, руз, лямбда, анз, р, лайк, ю, смайл,
трезубец, точка, зхвост, ззвезда, пазл, ае, краб, омега
```

**Пример использования:**
```
Символы: зеркало лямбда гроб вишенки

→ НАЖИМАЙТЕ В ТАКОМ ПОРЯДКЕ:
1. зеркало
2. лямбда
3. вишенки
4. гроб
```

**Особенности:**
- Можно ввести все 4 символа сразу через пробел
- Или вводить по одному
- Программа показывает список всех доступных названий

---

### 4. Делай как я (Simon Says)

**Как работает:**
- Указываете наличие гласной в серийном номере
- Указываете количество ошибок (0-2)
- Вводите цвета по мере их появления
- Программа показывает, какой цвет нажать, и накапливает полную последовательность

**Пример использования:**
```
Есть ли гласная в серийном номере? да
Сколько ошибок сейчас на бомбе (0-2)? 0

Шаг 1 - светится: красный
  → Нажмите: синий
Текущая последовательность: синий

Шаг 2 - светится: желтый
  → Нажмите: зеленый
Текущая последовательность: синий → зеленый
```

**Команды:**
- `показать` - показать полную последовательность
- `выход` - вернуться в меню

**Особенности:**
- Автоматически запоминает всю последовательность
- Можно в любой момент посмотреть полный список
- Работает по двум разным таблицам (с гласной/без гласной)

---

### 5. Меня зовут Авас, а вас?

**Как работает:**
- Вводите слово с экрана (или "пустой экран")
- Программа говорит, какую кнопку читать
- Вводите слово с этой кнопки
- Программа выдает приоритетный список слов для нажатия
- Можно делать несколько раундов подряд

**Пример использования:**
```
РАУНД 1
Что написано на экране? да
→ Читайте слово на кнопке: СРЕДНЯЯ ЛЕВАЯ

Какое слово на этой кнопке? готово
→ НАЖМИТЕ ПЕРВУЮ КНОПКУ ИЗ СПИСКА, КОТОРАЯ ЕСТЬ НА ЭКРАНЕ:
1. да
2. постой
3. ещё раз
...

Продолжить на следующий раунд? да
```

**Особенности:**
- Полная база всех слов из мануала
- Автоматически определяет позицию кнопки
- Показывает приоритетный список для выбора

---

### 6. Память

**Как работает:**
- 5 этапов с запоминанием действий
- На каждом этапе вводите цифру с экрана
- Программа говорит, какую кнопку нажать (по позиции или значению)
- Вы вводите значение на этой кнопке
- Программа запоминает и использует на следующих этапах

**Пример использования:**
```
ЭТАП 1
Цифра на экране: 3
→ Нажмите кнопку на позиции 3
Какая цифра на кнопке 3? 2
✓ Этап 1 завершен: позиция 3, значение 2

ЭТАП 2
Цифра на экране: 1
→ Нажмите кнопку со значением 4
На какой позиции кнопка со значением 4? 2
✓ Этап 2 завершен: позиция 2, значение 4
```

**Особенности:**
- Автоматически запоминает все действия
- Использует историю для решения следующих этапов
- Позиции: 1 (левая) - 2 - 3 - 4 (правая)

---

### 7. Азбука Морзе

**Как работает:**
- Вводите буквы в морзе (точки и тире)
- После каждой буквы показывается список возможных слов
- Когда слово найдено - показывает частоту

**Пример использования:**
```
Буква 1: .--
→ Буква: В
Текущее слово: В

ВОЗМОЖНЫЕ СЛОВА:
  ВЕНОК    → 3.522 МГц
  ВИТОК    → 3.545 МГц
  ВОСТОК   → 3.552 МГц
  ВИЛКА    → 3.555 МГц

Буква 2: .
→ Буква: Е
Текущее слово: ВЕ

ВОЗМОЖНЫЕ СЛОВА:
  ВЕНОК    → 3.522 МГц

Буква 3: -.
→ Буква: Н
Текущее слово: ВЕН

ВОЗМОЖНЫЕ СЛОВА:
  ВЕНОК    → 3.522 МГц

Буква 4: ---
→ Буква: О
Текущее слово: ВЕНО

ВОЗМОЖНЫЕ СЛОВА:
  ВЕНОК    → 3.522 МГц

Буква 5: -.-
→ Буква: К
✓ СЛОВО НАЙДЕНО: ВЕНОК
✓ УСТАНОВИТЕ ЧАСТОТУ: 3.522 МГц
```

**Особенности:**
- Автоматически сужает список после каждой буквы
- Сразу показывает частоту при нахождении слова
- Если нет подходящих слов - предлагает начать заново
- Можно выйти в любой момент(команда 'выход')

---

### 8. Усложненные провода

**Как работает:**
- Сначала вводите общие данные бомбы (серийный номер, батарейки, порт)
- Затем указывается количество проводов в модуле.
- Для каждого провода вводится короткий код, описывающий его свойства.

**Формат ввода провода:**
Используются следующие обозначения:
  С — синий цвет
  К — красный цвет
  З — есть звездочка
  Л — горит светодиод
Код вводится одной строкой, в любом порядке.
Программа сама приведет его к нужному виду.

**Пример ввода даннх:**
  С — синий провод
  КЗ — красный со звездочкой
  СЗЛ — синий, со звездочкой и светодиодом
  СКЗЛ — красно-синий, со звездочкой и светодиодом
  Белый провод:
  Если провод белый (без красного и синего), просто нажмите Enter, ничего не вводя.



**Пример использования:**
```
Последняя цифра серийного номера четная? да
Количество элементов питания: 2
Есть ли параллельный порт? нет

Сколько проводов в модуле? 3

ПРОВОД 1:
  Введите код провода (СКЗЛ): СЗЛ
  → НЕ РЕЖЬТЕ (параллельный порт отсутствует)

ПРОВОД 2:
  Введите код провода (СКЗЛ):
  → РЕЖЬТЕ

ПРОВОД 3:
  Введите код провода (СКЗЛ): К
  → РЕЖЬТЕ (последняя цифра серийного номера чётная)
```

**Цвета:** красный, синий, белый (или комбинации)

**Логика цветов:**
  Белый цвет не участвует в логике
  Бело-красный считается красным
  Бело-синий считается синим
  Красно-синий учитывает оба цвета

---

### 9. Последовательности проводов

**Как работает:**
- Вводите провода по порядку в формате "цвет буква"
- Программа автоматически считает, какой это провод по счету своего цвета
- Выдает решение (резать/не резать)
- Можно переключаться между панелями

**Пример использования:**
```
ПАНЕЛЬ 1

Провод: красный А
  Красный #1 → А → РЕЖЬТЕ

Провод: синий Б
  Синий #1 → Б → РЕЖЬТЕ

Провод: черный В
  Черный #1 → В → РЕЖЬТЕ

панель

ПАНЕЛЬ 2

Провод: красный Б
  Красный #2 → Б → РЕЖЬТЕ
```

**Команды:**
- `панель` - следующая панель
- `выход` - завершить

**Особенности:**
- Автоматически запоминает счетчики каждого цвета
- Счетчики общие для всех панелей модуля
- В конце показывает общую статистику

---

### 10. Пароли

**Как работает:**
- Для каждой из 5 позиций вводите доступные буквы
- Программа фильтрует список паролей и показывает возможные варианты

**Пример использования:**
```
Позиция 1 (буквы через пробел): а б в г
Позиция 2 (буквы через пробел): л о
Позиция 3 (буквы через пробел): л м
Позиция 4 (буквы через пробел): е о
Позиция 5 (буквы через пробел): я й

→ ПАРОЛЬ НАЙДЕН: АЛЛЕЯ
```

**Особенности:**
- Список всех 35 паролей из мануала
- Если несколько вариантов - показывает все
- Буквы можно вводить через пробел

---

### 11. О поворотных ручках (нестабильный модуль)

**Как работает:**
- Используется упрощенный метод определения позиции ручки
- Вводятся только колонки, где горят ОБА светодиода (верхний и нижний)
- Светодиоды, горящие только в одном ряду, игнорируются
- Программа сразу выдает направление, куда ставить ручку

**Формат ввода:**
```
2 3 5

где:
1-6 — номер колонки (слева направо)
вводятся только те колонки(сверху вниз), где горят оба светодиода
ввод через пробел
пустой ввод — нет ни одной колонки с двумя горящими светодиодами
```

**Пример использования:**
```
Введите номера колонок(через пробел): 2 3 5

АНАЛИЗ:
Светодиоды горят в обоих рядах в колонках: [2, 3, 5]

РЕЗУЛЬТАТ:
Установите ручку в положение: ВВЕРХ
```

**Особенности:**
- Позиция определяется относительно надписи "ВВЕРХ" на модуле

---

## Общие возможности

### Навигация
- В любом модуле нажмите Enter для возврата в главное меню
- В главном меню введите `0` для выхода из программы
- В некоторых модулях можно ввести `выход` для досрочного возврата

### Шаг назад
- В большинстве модулей можно начать заново через специальные команды
- Например, в Морзе и Авасе есть опция "начать заново"

### Справка
- Модули показывают доступные команды и форматы ввода
- Если ввели что-то не то - программа подскажет правильный формат

---

## Что НЕ реализовано

- **Лабиринт** - требует алгоритм поиска пути + кодирование всех 9 лабиринтов
- **Выпуск газа** - нестабильный модуль (тривиальный, в помощнике не нужен)
- **Разрядка конденсатора** - нестабильный модуль (тривиальный, в помощнике не нужен)

---

## Советы по использованию

1. **Держите мануал рядом** - программа не заменяет мануал полностью, она помогает с расчетами
2. **Проверяйте ввод** - опечатки в цветах/словах приведут к неверному решению
3. **Серийный номер** - запомните его заранее, многие модули его спрашивают
4. **Батарейки и индикаторы** - проверьте бомбу перед началом
5. **Делай как я(Simon Says)** - используйте команду `показать` если забыли последовательность
6. **Память** - доверяйте и следуйте программе, она запоминает все этапы
7. **Морзе** - вводите коды без пробелов, программа сама найдет букву

---

## Технические детали

- Язык: Python 3.6+
- Архитектура: модульная (каждый модуль в отдельном файле)
- Зависимости: нет (используется только стандартная библиотека)
- Размер: ~50 КБ всего кода
- Платформа: Windows, Linux, macOS

---

## Версия

- 11 рабочих модулей из 14 возможных
- Полная логика из официального мануала версии 2-ru
- Русский интерфейс

---

## Автор

made by justdushk
При помощи ChatGPT и Claude
Создано для помощи в игре Keep Talking and Nobody Explodes.  
Все правила взяты из официального мануала игры.